<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Students</title>
<link rel="stylesheet" href="style.css">
<script type="module" src="script.js"></script>
</head>
<body onload="loadTeacherProfile()">

<div class="container">
  <h2>Add Student</h2>
  <p>Subject: <span id="teacherSubjectAdd"></span></p>
  
  <label>Class:</label>
  <select id="classSelectAdd"></select>
  
  <input type="text" id="studentName" placeholder="Student Name">
  <button onclick="addStudent()">Add Student</button>
  
  <button onclick="window.location.href='dashboard.html'">Back to Dashboard</button>
  <button onclick="logout()">Logout</button>
</div>

<script>
  // Populate class dropdown
  const classSelectAdd = document.getElementById('classSelectAdd');
  onValue(ref(db, 'teachers/' + currentTeacher.uid + '/classes'), snapshot => {
    classSelectAdd.innerHTML = "";
    const classes = snapshot.val();
    for (let key in classes) {
      const opt = document.createElement('option');
      opt.value = classes[key];
      opt.innerText = classes[key];
      classSelectAdd.appendChild(opt);
    }
  });
  
  // Set subject
  onValue(ref(db, 'teachers/' + currentTeacher.uid + '/subject'), snapshot => {
    document.getElementById('teacherSubjectAdd').innerText = snapshot.val();
  });
</script>

</body>
</html>