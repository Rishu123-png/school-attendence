<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>School Attendance â€” Purple Card</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="page-wrap">

    <!-- LEFT: Auth Card -->
    <div class="auth-card" id="authCard">
      <!-- LOGIN -->
      <div id="authLogin" class="auth-block">
        <h1 class="brand">School Attendance</h1>
        <p class="sub">Teacher sign in</p>

        <input id="loginEmail" type="email" placeholder="Email" />
        <input id="loginPassword" type="password" placeholder="Password" />
        <button id="loginBtn" class="btn primary">Login</button>

        <p id="authMessage" class="muted"></p>
        <p class="muted small">Don't have an account? <button id="showSignup" class="link">Create one</button></p>
      </div>

      <!-- SIGNUP -->
      <div id="authSignup" class="auth-block" style="display:none;">
        <h1 class="brand">Create Account</h1>
        <p class="sub">Register as teacher</p>

        <div class="avatar-container">
          <img id="avatarPreview" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="avatar"/>
          <input id="avatarUpload" type="file" accept="image/*" />
        </div>

        <input id="fullName" type="text" placeholder="Full name" />
        <input id="signupEmail" type="email" placeholder="Email" />
        <input id="signupPassword" type="password" placeholder="Password (6+ chars)" />
        <input id="signupClass" type="text" placeholder="Class you teach (e.g. 11A)" />
        <input id="signupSubject" type="text" placeholder="Subject you teach (e.g. AI)" />

        <button id="signupBtn" class="btn primary">Create account</button>
        <p id="signupMessage" class="muted"></p>
        <p class="muted small">Already have an account? <button id="showLogin" class="link">Login</button></p>
      </div>
    </div>

    <!-- RIGHT: Dashboard -->
    <div class="dashboard" id="dashboard" style="display:none;">
      <header class="dash-header">
        <div class="teacher-info">
          <img id="teacherAvatar" class="teacher-avatar" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="avatar"/>
          <div>
            <div id="welcome" class="welcome">Welcome</div>
            <div id="teacherMeta" class="muted small"></div>
          </div>
        </div>
        <div>
          <button id="logoutBtn" class="btn danger">Logout</button>
        </div>
      </header>

      <section class="controls">
        <div class="field">
          <label>Class</label>
          <select id="classSelect"><option value="">-- Select Class --</option></select>
        </div>

        <div class="field">
          <label>Subject</label>
          <select id="subjectSelect"><option value="">-- Select Subject --</option></select>
        </div>

        <div class="actions">
          <button id="saveAll" class="btn primary">Save Attendance</button>
          <button id="viewHistory" class="btn">View Attendance History</button>
        </div>
      </section>

      <section id="studentListContainer" class="student-list"></section>

      <section id="historyContainer" class="history" style="display:none;">
        <h3>Attendance History</h3>
        <table id="historyTable">
          <thead>
            <tr><th>Date</th><th>Class</th><th>Subject</th><th>Student</th><th>Status</th><th>By</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
    </div>
  </div>

  <!-- firebase first, then script -->
  <script type="module" src="firebase.js"></script>
  <script type="module" src="students.js"></script>
  <script type="module" src="script.js"></script>
</body>
</html>
